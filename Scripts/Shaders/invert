extern vec4 sColor;

vec4 effect(vec4 color, Image texture, vec2 texture_coords, vec2 screen_coords) {
    vec4 pixel = Texel(texture, texture_coords);

    if (pixel.a == 0.0) {
        return vec4(0.0, 0.0, 0.0, 0.0) * sColor;
    }

    vec3 invertedColor = vec3(1.0) - pixel.rgb;
    return vec4(invertedColor, pixel.a);
}